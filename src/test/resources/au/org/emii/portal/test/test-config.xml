<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd">

 


        <bean id="xmlWebService" class="au.org.emii.portal.webservice.XmlWebServiceJerseyImpl">
                <property name="xmlMimeType" value="application/xml" />
        </bean>

        <bean id="mockUserManagementWebService" class="au.org.emii.portal.test.MockUserManagementWebService" />

    <bean id="userInfoService" class="au.org.emii.portal.user.UserInfoServiceGetImpl">
        <property name="administratorProfile" value="Administrator"  />
        <property name="xmlWebService" ref="xmlWebService" />
        <property name="defaultUserManagementServiceId" value="DEFAULT" />
        <property name="userManagementServices" ref="userManagementWebServices" />
        <property name="webServiceSession" ref="mestWebServiceSession" />
    </bean>

    <bean id="mockUserInfoService" class="au.org.emii.portal.test.user.MockUserInfoService"/>

       <util:map id="userManagementWebServices">
           <entry key="DEFAULT" value-ref="mockUserManagementWebService"  />
       </util:map>
       
       <bean id="loginService" class="au.org.emii.portal.authentication.LoginServiceImpl" >
        <property name="userInfoService" ref="mockUserInfoService" />
        <property name="xmlWebService" ref="xmlWebService" />
        <property name="defaultUserManagementServiceId" value="DEFAULT" />
        <property name="userManagementServices" ref="userManagementWebServices" />
       </bean>

       <bean id="registrationService" class="au.org.emii.portal.registration.RegistrationServiceImpl">
        <property name="xmlWebService" ref="xmlWebService" />
        <property name="profile" value="RegisteredUser" />
        <property name="duplicateUserErrorMessage" value="errorEmailAddressAlreadyRegistered" />
        <property name="defaultUserManagementServiceId" value="DEFAULT" />
        <property name="userManagementServices" ref="userManagementWebServices" />

       </bean>

       <bean id="logoutService" class="au.org.emii.portal.authentication.LogoutServiceImpl" />

        <!-- persistent http session support for xml web services -->
        <bean id="mestWebServiceSession" class="au.org.emii.portal.webservice.MestWebServiceSessionImpl">
            <property name="username" value="admin" />
            <property name="password" value="admin" />
            <property name="loginService" ref="loginService" />

        </bean>

        <bean id="forgottenPasswordService" class="au.org.emii.portal.authentication.ForgottenPasswordServiceImpl">
            <property name="xmlWebService" ref="xmlWebService" />
            <property name="expiredChangeKeyErrorMessage" value="Change key invalid" />
            <property name="templateFile" value="password-forgotten_portal-email.xsl" />
            <property name="invalidUserErrorMessage" value="UserNotFoundEx" />
            <property name="defaultUserManagementServiceId" value="DEFAULT" />
            <property name="userManagementServices" ref="userManagementWebServices" />
        </bean>

</beans>